{"version":3,"sources":["images/header-logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Loader.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","components/InfoTooltip.js","images/CrossIcon.svg","images/CheckIcon.svg","utils/api.js","utils/authApi.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","email","onLogout","className","src","headerLogoPath","alt","path","exact","aria-label","onClick","to","CurrentUserContext","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","type","link","name","length","Loader","Main","onEditAvatar","onEditProfile","onAddPlace","cards","isCardsLoading","avatar","about","map","Footer","Date","getFullYear","PopupWithForm","title","buttonText","children","isOpen","onClose","onSubmit","noValidate","EditProfilePopup","onUpdateUser","isDataSending","useState","setName","description","setDescription","useEffect","e","preventDefault","autoComplete","required","minLength","maxLength","value","undefined","onChange","target","id","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","placeholder","ref","AddPlacePopup","setLink","ImagePopup","Login","onLogin","password","loginData","setloginData","handleInputChange","evt","Register","onRegister","registerData","setRegisterData","ProtectedRoute","isLoggedIn","statusIcons","cross","check","InfoTooltip","data","icon","text","api","token","url","cohortId","this","_token","_url","_cohortId","res","ok","json","Promise","reject","status","fetch","headers","authorization","then","checkResponse","method","body","JSON","stringify","cardId","isLike","userData","BASE_URL","Error","statusText","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","toolTipData","setToolTipData","selectedCard","setSelectedCard","setIsCardsLoading","setIsDataSending","setIsLoggedIn","setEmail","history","useHistory","tokenCheck","jwt","localStorage","getItem","push","setCurrentUser","all","getUserInfo","getCards","cardData","setCards","catch","err","console","log","finally","closeAllPopups","Provider","removeItem","changeLikeCardStatus","newCard","state","c","deleteCard","filter","newAvatarUrl","updataAvatar","userInfo","setUserInfo","newUserInfo","addCard","addedNewCard","authApi","setItem","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"uNAAe,MAA0B,wC,OCIlC,SAASA,EAAT,GAAoC,IAAnBC,EAAkB,EAAlBA,MAAOC,EAAW,EAAXA,SAC7B,OACE,yBAAQC,UAAU,uBAAlB,UACE,qBAAKA,UAAU,eAAeC,IAAKC,EAAgBC,IAAI,4DACvD,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,KAAK,qBAAqBC,OAAK,EAAtC,SACE,sBAAKL,UAAU,eAAf,UACE,mBAAGA,UAAU,eAAb,SAA6BF,IAC7B,wBAAQE,UAAU,iBAAiBM,aAAW,iCAAQC,QAASR,EAA/D,iDAGJ,cAAC,IAAD,CAAOK,KAAK,4BAAZ,SACE,qBAAKJ,UAAU,eAAf,SACE,cAAC,IAAD,CAAMA,UAAU,0BAA0BQ,GAAG,UAA7C,gDAKJ,cAAC,IAAD,CAAOJ,KAAK,4BAAZ,SACE,qBAAKJ,UAAU,eAAf,SACE,cAAC,IAAD,CAAMA,UAAU,0BAA0BQ,GAAG,UAA7C,0FCrBL,IAAMC,EAAqBC,0BCA3B,SAASC,EAAT,GAAgE,IAAhDC,EAA+C,EAA/CA,KAAMC,EAAyC,EAAzCA,YAAaC,EAA4B,EAA5BA,WAAYC,EAAgB,EAAhBA,aAE9CC,EAAcC,qBAAWR,GAGzBS,EAAQN,EAAKO,MAAMC,MAAQJ,EAAYI,IAGvCC,EAAyB,oCACAH,EAAQ,wCAA0C,oCAI3EI,EAAUV,EAAKW,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAEL,MAAQJ,EAAYI,OAErDM,EAAuB,kCAA8BJ,GAAW,kCActE,OACE,qBAAItB,UAAU,aAAd,UACE,wBACE2B,KAAK,SACLrB,aAAW,8FACXN,UAAWqB,EACXd,QAVoB,WACxBQ,EAAaH,MAWX,qBAAKZ,UAAU,oBAAoBC,IAAKW,EAAKgB,KAC3CzB,IAAKS,EAAKiB,KAAMtB,QArBF,WAClBM,EAAYD,MAqBV,sBAAKZ,UAAU,gCAAf,UACE,oBAAIA,UAAU,yBAAd,SAAwCY,EAAKiB,OAC7C,sBAAK7B,UAAU,2BAAf,UACE,wBACE2B,KAAK,SACLrB,aAAW,kFACXN,UAAW0B,EACXnB,QAzBc,WACtBO,EAAWF,MA0BL,sBAAMZ,UAAU,yBAAhB,SAA0CY,EAAKW,MAAMO,kBCnDxD,SAASC,IACd,OACE,qBAAK/B,UAAU,SAAf,SACE,qBAAKA,UAAU,qBCEd,SAASgC,EAAT,GASH,IARFC,EAQC,EARDA,aACAC,EAOC,EAPDA,cACAC,EAMC,EANDA,WACAC,EAKC,EALDA,MACAvB,EAIC,EAJDA,YACAC,EAGC,EAHDA,WACAC,EAEC,EAFDA,aACAsB,EACC,EADDA,eAGMrB,EAAcC,qBAAWR,GAE/B,OACE,uBAAMT,UAAU,UAAhB,UACE,yBAASA,UAAU,wBAAnB,SACE,sBAAKA,UAAU,uBAAf,UACE,sBAAKA,UAAU,kBAAf,UACE,qBAAKA,UAAU,0BAA0BC,IAAKe,EAAYsB,OACxDnC,IAAKa,EAAYa,OACnB,wBACEF,KAAK,SACLrB,aAAW,iKACXN,UAAU,uBACVO,QAAS0B,OAGb,oBAAIjC,UAAU,gBAAd,SAA+BgB,EAAYa,OAC3C,mBAAG7B,UAAU,uBAAb,SAAqCgB,EAAYuB,QACjD,wBACEZ,KAAK,SACLrB,aAAW,yLACXN,UAAU,uBACVO,QAAS2B,IAEX,wBACEP,KAAK,SACLrB,aAAW,mIACXN,UAAU,sBACVO,QAAS4B,SAIf,0BAASnC,UAAU,SAAnB,UAEGqC,GAAkB,cAACN,EAAD,IAEnB,oBAAI/B,UAAU,iBAAd,SACGoC,EAAMI,KAAI,SAAC5B,GAAD,OACT,cAACD,EAAD,CAEEC,KAAMA,EACNC,YAAaA,EACbC,WAAYA,EACZC,aAAcA,GAJTH,EAAKQ,gBCvDjB,SAASqB,IACd,OACE,wBAAQzC,UAAU,uBAAlB,SACE,oBAAGA,UAAU,qBAAb,mBAA0C,IAAI0C,MAAOC,cAArD,qBCDC,SAASC,EAAT,GAA0F,IAAjEf,EAAgE,EAAhEA,KAAMgB,EAA0D,EAA1DA,MAAOC,EAAmD,EAAnDA,WAAYC,EAAuC,EAAvCA,SAAUC,EAA6B,EAA7BA,OAAQC,EAAqB,EAArBA,QAASC,EAAY,EAAZA,SAIlF,OACE,yBAASlD,UAAS,2BAAsB6B,EAAtB,YAA8BmB,GAAU,gBAA1D,SACE,sBAAKhD,UAAU,4CAAf,UACE,uBAAM6B,KAAMA,EAAMsB,YAAU,EAACD,SAAUA,EAAvC,UACE,oBAAIlD,UAAU,eAAd,SAA8B6C,IAC7BE,EACD,wBAAQpB,KAAK,SAAS3B,UAAU,gDAAhC,SAAiF8C,OAEnF,wBAAQnB,KAAK,SAASrB,aAAW,sEAAeN,UAAU,sBAAsBO,QAAS0C,SCV1F,SAASG,EAAT,GAA6E,IAAjDJ,EAAgD,EAAhDA,OAAQC,EAAwC,EAAxCA,QAASI,EAA+B,EAA/BA,aAAcC,EAAiB,EAAjBA,cAEhE,EAAwBC,mBAAS,IAAjC,mBAAO1B,EAAP,KAAa2B,EAAb,KACA,EAAsCD,mBAAS,IAA/C,mBAAOE,EAAP,KAAoBC,EAApB,KAEM1C,EAAcC,qBAAWR,GAyB/B,OAvBAkD,qBAAU,WACRH,EAAQxC,EAAYa,MACpB6B,EAAe1C,EAAYuB,SAC1B,CAACvB,EAAagC,IAqBf,cAACJ,EAAD,CACEf,KAAK,eACLgB,MAAM,4HACNC,WAAYQ,EAAgB,kEAAkB,yDAC9CN,OAAQA,EACRC,QAASA,EACTC,SAjBJ,SAAsBU,GACpBA,EAAEC,iBAGFR,EAAa,CACXxB,OACAU,MAAOkB,KAKT,SAQE,sBAAKzD,UAAU,gBAAf,UAEE,uBACE2B,KAAK,OACLE,KAAK,eACL7B,UAAU,sCACV8D,aAAa,MACbC,UAAQ,EACRC,UAAU,IACVC,UAAU,KACVC,WAAgBC,IAATtC,EAAqB,GAAKA,EACjCuC,SAtCR,SAA0BR,GACxBJ,EAAQI,EAAES,OAAOH,UAwCb,sBAAMlE,UAAU,uBAAuBsE,GAAG,uBAE1C,uBACE3C,KAAK,OACLE,KAAK,cACL7B,UAAU,6CACV8D,aAAa,MACbC,UAAQ,EACRC,UAAU,IACVC,UAAU,MACVC,WAAuBC,IAAhBV,EAA4B,GAAKA,EACxCW,SAhDR,SAAiCR,GAC/BF,EAAeE,EAAES,OAAOH,UAkDpB,sBAAMlE,UAAU,uBAAuBsE,GAAG,2BCnE3C,SAASC,EAAT,GAA8E,IAAnDvB,EAAkD,EAAlDA,OAAQC,EAA0C,EAA1CA,QAASuB,EAAiC,EAAjCA,eAAgBlB,EAAiB,EAAjBA,cAE3DmB,EAAYC,mBAUlB,OACE,cAAC9B,EAAD,CACEf,KAAK,gBACLgB,MAAM,wFACNC,WAAYQ,EAAgB,kEAAkB,yDAC9CN,OAAQA,EACRC,QAASA,EACTC,SAbJ,SAAsBU,GACpBA,EAAEC,iBAEFW,EAAeC,EAAUE,QAAQT,QAIjC,SAQE,sBAAKlE,UAAU,gBAAf,UACE,uBACE2B,KAAK,MACLE,KAAK,aACL7B,UAAU,4CACV8D,aAAa,MACbc,YAAY,MACZb,UAAQ,EAACC,UAAU,IACnBC,UAAU,GACVY,IAAKJ,IAEP,sBAAMzE,UAAU,uBAAuBsE,GAAG,0BChC3C,SAASQ,EAAT,GAAwE,IAA/C9B,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,QAASd,EAA6B,EAA7BA,WAAYmB,EAAiB,EAAjBA,cAE3D,EAAwBC,mBAAS,IAAjC,mBAAO1B,EAAP,KAAa2B,EAAb,KACA,EAAwBD,mBAAS,IAAjC,mBAAO3B,EAAP,KAAamD,EAAb,KAoBA,OALApB,qBAAU,WACRH,EAAQ,IACRuB,EAAQ,MACP,CAAC/B,IAGF,cAACJ,EAAD,CACEf,KAAK,WACLgB,MAAM,gEACNC,WAAYQ,EAAgB,sDAAgB,6CAC5CN,OAAQA,EACRC,QAASA,EACTC,SAjBJ,SAAsBU,GACpBA,EAAEC,iBACF1B,EAAW,CAAEN,OAAMD,UASnB,SAQE,sBAAK5B,UAAU,gBAAf,UACE,uBACE2B,KAAK,OACLE,KAAK,gBACL7B,UAAU,4CACV8D,aAAa,MACbc,YAAY,mDACZb,UAAQ,EAACC,UAAU,IACnBC,UAAU,KACVC,MAAOrC,GAAQ,GACfuC,SArCiB,SAACR,GACxBJ,EAAQI,EAAES,OAAOH,UAsCb,sBAAMlE,UAAU,uBAAuBsE,GAAG,wBAC1C,uBACE3C,KAAK,MACLE,KAAK,YACL7B,UAAU,4CACV8D,aAAa,MACbc,YAAY,qGACZb,UAAQ,EACRG,MAAOtC,GAAQ,GACfwC,SA5CiB,SAACR,GACxBmB,EAAQnB,EAAES,OAAOH,UA6Cb,sBAAMlE,UAAU,uBAAuBsE,GAAG,yBC3D3C,SAASU,EAAT,GAAwC,IAAlBpE,EAAiB,EAAjBA,KAAMqC,EAAW,EAAXA,QAEjC,OACE,yBAASjD,UAAS,gBAAWY,GAAQ,gBAAkB0D,GAAG,gBAA1D,SACE,sBAAKtE,UAAU,yBAAf,UACE,yBAAQA,UAAU,qBAAlB,UACE,qBAAKA,UAAU,eAAeC,IAAa,MAARW,EAAeA,EAAKgB,UAAOuC,EAAWhE,IAAG,OAAES,QAAF,IAAEA,OAAF,EAAEA,EAAMiB,OACpF,4BAAY7B,UAAU,qBAAtB,gBAA4CY,QAA5C,IAA4CA,OAA5C,EAA4CA,EAAMiB,UAEpD,wBAAQF,KAAK,SAASrB,aAAW,sEAAeN,UAAU,sBAAsBO,QAAS0C,S,mBCP1F,SAASgC,EAAT,GAA6B,IAAZC,EAAW,EAAXA,QAEtB,EAAkC3B,mBAAS,CACzCzD,MAAO,GACPqF,SAAU,KAFZ,mBAAOC,EAAP,KAAkBC,EAAlB,KAKMC,EAAoB,SAACC,GACzB,MAAwBA,EAAIlB,OAApBxC,EAAR,EAAQA,KAAMqC,EAAd,EAAcA,MACdmB,EAAa,2BACRD,GADO,kBAETvD,EAAOqC,MAYZ,OACE,qBAAKlE,UAAU,gBAAf,SACE,uBACEA,UAAU,iBACVkD,SAZe,SAACqC,GACpBA,EAAI1B,iBACCuB,EAAUtF,OAAUsF,EAAUD,UAGnCD,EAAQE,IAKN,UAIE,oBAAIpF,UAAU,wBAAd,sCACA,uBACEA,UAAU,wBACV4E,YAAY,QACZjD,KAAK,OACLE,KAAK,QACLyC,GAAG,GACHJ,MAAOkB,EAAUtF,MACjBsE,SAAUkB,IAEZ,uBACEtF,UAAU,wBACV4E,YAAY,uCACZjD,KAAK,WACLE,KAAK,WACLyC,GAAG,GACHJ,MAAOkB,EAAUD,SACjBf,SAAUkB,IAGZ,wBAAQtF,UAAU,yBAAlB,iDChDD,SAASwF,EAAT,GAAmC,IAAfC,EAAc,EAAdA,WAEzB,EAAwClC,mBAAS,CAC/CzD,MAAO,GACPqF,SAAU,KAFZ,mBAAOO,EAAP,KAAqBC,EAArB,KAKML,EAAoB,SAACC,GACzB,MAAwBA,EAAIlB,OAApBxC,EAAR,EAAQA,KAAMqC,EAAd,EAAcA,MACdyB,EAAgB,2BACXD,GADU,kBAEZ7D,EAAOqC,MASZ,OACE,qBAAKlE,UAAU,gBAAf,SACE,uBACAA,UAAU,iBACVkD,SATiB,SAACqC,GACpBA,EAAI1B,iBACJ4B,EAAWC,IAKT,UAIE,oBAAI1F,UAAU,wBAAd,gFAEA,uBACEA,UAAU,wBACV4E,YAAY,QACZjD,KAAK,OACLE,KAAK,QACLyC,GAAG,GACHP,UAAQ,EACRG,MAAOwB,EAAa5F,MACpBsE,SAAUkB,IAEZ,uBACEtF,UAAU,wBACV4E,YAAY,uCACZjD,KAAK,WACLE,KAAK,WACLyC,GAAG,GACHP,UAAQ,EACRG,MAAOwB,EAAaP,SACpBf,SAAUkB,IAGZ,wBAAQtF,UAAU,yBAAlB,0HACA,oBAAGA,UAAU,8BAAb,kIACwB,cAAC,IAAD,CAAMA,UAAU,uBAAuBQ,GAAG,4BAA1C,oDChDzB,IAAMoF,EAAiB,SAAC,GAAkC,IAAjCxF,EAAgC,EAAhCA,KAAMyF,EAA0B,EAA1BA,WAAY9C,EAAc,EAAdA,SAChD,OACE,cAAC,IAAD,CAAO3C,KAAMA,EAAMC,OAAK,EAAxB,SAEIwF,EAAa9C,EAAW,cAAC,IAAD,CAAUvC,GAAG,iBCPvCsF,EAAc,CAClBC,MCJa,IAA0B,sCDKvCC,MELa,IAA0B,uCFQlC,SAASC,EAAT,GAAyC,IAAlBhD,EAAiB,EAAjBA,QAASiD,EAAQ,EAARA,KACrC,OACE,yBAASlG,UAAS,yCAAoCkG,EAAKlD,QAAU,gBAArE,SACE,qBAAKhD,UAAU,mBAAf,SACE,sBAAKA,UAAU,0BAAf,UACE,qBAAKA,UAAU,uBAAuBC,IAAK6F,EAAYI,EAAKC,MAAOhG,IAAG,UAAK+F,EAAKC,QAChF,mBAAGnG,UAAU,mBAAb,SAAiCkG,EAAKE,OACtC,wBAAQzE,KAAK,SAASrB,aAAW,sEAAeN,UAAU,sBAAsBO,QAAS0C,W,oBG0FtFoD,EAAM,I,WAxGjB,WAAYC,EAAOC,EAAKC,GAAW,oBACjCC,KAAKC,OAASJ,EACdG,KAAKE,KAAOJ,EACZE,KAAKG,UAAYJ,E,iDAIlB,SAAcK,GACb,OAAIA,EAAIC,GACCD,EAAIE,OAGNC,QAAQC,OAAR,gDAA0BJ,EAAIK,W,sBAIvC,WACE,OAAOC,MAAM,GAAD,OAAIV,KAAKE,MAAT,OAAgBF,KAAKG,UAArB,UAAwC,CAChDQ,QAAS,CACPC,cAAeZ,KAAKC,UAGvBY,KAAKb,KAAKc,iB,qBAIf,YAGI,IAFF1F,EAEC,EAFDA,KACAD,EACC,EADDA,KAEA,OAAOuF,MAAM,GAAD,OAAIV,KAAKE,MAAT,OAAgBF,KAAKG,UAArB,UAAwC,CAChDY,OAAQ,OACRJ,QAAS,CACPC,cAAeZ,KAAKC,OACpB,eAAgB,oBAElBe,KAAMC,KAAKC,UAAU,CACnB9F,OACAD,WAGH0F,KAAKb,KAAKc,iB,wBAIf,SAAWK,GACT,OAAOT,MAAM,GAAD,OAAIV,KAAKE,MAAT,OAAgBF,KAAKG,UAArB,kBAAwCgB,GAAU,CAC1DJ,OAAQ,SACRJ,QAAS,CACPC,cAAeZ,KAAKC,UAGvBY,KAAKb,KAAKc,iB,kCAIf,SAAqBK,EAAQC,GAC3B,OAAOV,MAAM,GAAD,OAAIV,KAAKE,KAAT,YAAiBF,KAAKG,UAAtB,wBAA+CgB,GAAU,CACjEJ,OAAQK,EAAS,MAAQ,SACzBT,QAAS,CACPC,cAAeZ,KAAKC,OACpB,eAAgB,sBAGnBY,KAAKb,KAAKc,iB,yBAIf,WACE,OAAOJ,MAAM,GAAD,OAAIV,KAAKE,MAAT,OAAgBF,KAAKG,UAArB,aAA2C,CACnDQ,QAAS,CACPC,cAAeZ,KAAKC,UAGvBY,KAAKb,KAAKc,iB,yBAIf,SAAYO,GACV,OAAOX,MAAM,GAAD,OAAIV,KAAKE,MAAT,OAAgBF,KAAKG,UAArB,aAA2C,CACnDY,OAAQ,QACRJ,QAAS,CACPC,cAAeZ,KAAKC,OACpB,eAAgB,oBAElBe,KAAMC,KAAKC,UAAUG,KAEtBR,KAAKb,KAAKc,iB,0BAIf,SAAajF,GACX,OAAO6E,MAAM,GAAD,OAAIV,KAAKE,MAAT,OAAgBF,KAAKG,UAArB,oBAAkD,CAC1DY,OAAQ,QACRJ,QAAS,CACPC,cAAeZ,KAAKC,OACpB,eAAgB,oBAElBe,KAAMC,KAAKC,UAAUrF,KAEtBgF,KAAKb,KAAKc,mB,KAIE,CAAQ,uCAAwC,qCAAsC,aCzGnGQ,EAAW,gCAGXR,EAAgB,SAACV,GACrB,OAAOA,EAAIC,GAAKD,EAAIE,OAASC,QAAQC,OAAO,IAAIe,MAAJ,+CAAoBnB,EAAIK,OAAxB,aAAmCL,EAAIoB,eAG/Eb,EAAU,CACd,OAAU,mBACV,eAAgB,oBCqRHc,MA1Qf,WACE,MAA0D3E,oBAAS,GAAnE,mBAAO4E,EAAP,KAA8BC,EAA9B,KACA,EAA4D7E,oBAAS,GAArE,mBAAO8E,EAAP,KAA+BC,EAA/B,KACA,EAAsD/E,oBAAS,GAA/D,mBAAOgF,EAAP,KAA4BC,EAA5B,KACA,EAAsCjF,mBAAS,CAC7CP,QAAQ,EACRmD,KAAM,GACNC,KAAM,KAHR,mBAAOqC,EAAP,KAAoBC,EAApB,KAMA,EAAwCnF,mBAAS,MAAjD,mBAAOoF,EAAP,KAAqBC,EAArB,KACA,EAA4CrF,oBAAS,GAArD,mBAAOlB,EAAP,KAAuBwG,EAAvB,KACA,EAA0CtF,oBAAS,GAAnD,mBAAOD,EAAP,KAAsBwF,EAAtB,KAEA,EAAoCvF,oBAAS,GAA7C,mBAAOsC,EAAP,KAAmBkD,GAAnB,KACA,GAA0BxF,mBAAS,IAAnC,qBAAOzD,GAAP,MAAckJ,GAAd,MACMC,GAAUC,cAGVC,GAAa,WACjB,IDHuB7C,ECGjB8C,EAAMC,aAAaC,QAAQ,OAC5BF,IDJkB9C,ECOJ8C,EDNdjC,MAAM,GAAD,OAAIY,EAAJ,aAAyB,CACjCP,OAAQ,MACRJ,QAAQ,2BACHA,GADE,IAEL,cAAgB,UAAhB,OAA2Bd,OAG9BgB,MAAK,SAAAT,GAAG,OAAIU,EAAcV,OCAxBS,MAAK,SAAAT,GACJmC,GAASnC,EAAIX,KAAKpG,OAClBiJ,IAAc,GACdE,GAAQM,KAAK,0BAKnB5F,qBAAU,WACRwF,OACC,IAEH,IA+CA,GAAsC5F,mBAAS,IAA/C,qBAAOvC,GAAP,MAAoBwI,GAApB,MAEA7F,qBAAU,WACJkC,IACFgD,GAAkB,GAClB7B,QAAQyC,IAAI,CAACpD,EAAIqD,cAAerD,EAAIsD,aACjCrC,MAAK,YAA2B,IAAD,mBAAxBQ,EAAwB,KAAd8B,EAAc,KAC9BJ,GAAe1B,GACf+B,GAASD,MACRE,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,MAAMG,SAAQ,WACxCrB,GAAkB,SAGvB,CAAChD,IAEJ,IAaMsE,GAAiB,WACrB/B,GAAyB,GACzBE,GAA0B,GAC1BE,GAAuB,GACvBE,EAAe,CACb1F,QAAQ,EACRmD,KAAM,GACNC,KAAM,KAERwC,EAAgB,OAuBlB,GAA0BrF,mBAAS,IAAnC,qBAAOnB,GAAP,MAAcyH,GAAd,MAgCA,OACE,cAACpJ,EAAmB2J,SAApB,CAA6BlG,MAAOlD,GAApC,SACE,qBAAKhB,UAAU,MAAf,SACE,qBAAKA,UAAU,OAAf,SACE,sBAAKA,UAAU,gBAAf,UACE,cAACH,EAAD,CACEC,MAAOA,GACPC,SA5GK,WACfsJ,aAAagB,WAAW,OACxBb,GAAe,IACfK,GAAS,IACTd,IAAc,GACdE,GAAQM,KAAK,gCA0GL,eAAC,IAAD,WACE,eAAC,EAAD,CACE1D,WAAYA,EACZzF,KAAK,qBAAqBC,OAAK,EAFjC,UAIE,cAAC2B,EAAD,CACEC,aA7Fc,WAC5BmG,GAAyB,IA6FXlG,cA3Fe,WAC7BoG,GAA0B,IA2FZnG,WAzFY,WAC1BqG,GAAuB,IAyFT3H,YAvFQ,SAACD,GACvBgI,EAAgBhI,IAuFFwB,MAAOA,GACPtB,WAnDhB,SAAwBF,GAEtB,IAAMU,EAAUV,EAAKW,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAEL,MAAQJ,GAAYI,OAE3DiF,EAAIiE,qBAAqB1J,EAAKQ,KAAME,GAASgG,MAAK,SAACiD,GACjDV,IAAS,SAACW,GAAD,OAAWA,EAAMhI,KAAI,SAACiI,GAAD,OAAOA,EAAErJ,MAAQR,EAAKQ,IAAMmJ,EAAUE,WACnEX,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,OA8CdhJ,aA3ChB,SAA0BH,GACxByF,EAAIqE,WAAW9J,EAAKQ,KAAKkG,MACvB,WACEuC,IAAS,SAACW,GACR,OAAOA,EAAMG,QAAO,SAACF,GAAD,OAAOA,EAAErJ,MAAQR,EAAKQ,aAG9C0I,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,OAqCb1H,eAAgBA,IAGlB,cAACkC,EAAD,CACEvB,OAAQmF,EACRlF,QAASkH,GACT3F,eAvEW,SAACoG,GAC1B9B,GAAiB,GACjBzC,EAAIwE,aAAa,CAAEvI,OAAQsI,IAAgBtD,MAAK,SAACpB,GAC/CsD,GAAetD,GACfiE,QACCL,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,MAAMG,SAAQ,WACxCpB,GAAiB,OAkELxF,cAAeA,IAGjB,cAACF,EAAD,CACEJ,OAAQqF,EACRpF,QAASkH,GACT9G,aAxFS,SAACyH,GACxBhC,GAAiB,GACjBzC,EAAI0E,YAAYD,GAAUxD,MAAK,SAAC0D,GAC9BxB,GAAewB,GACfb,QACCL,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,MAAMG,SAAQ,WACxCpB,GAAiB,OAmFLxF,cAAeA,IAGjB,cAACwB,EAAD,CACE9B,OAAQuF,EACRtF,QAASkH,GACThI,WAtDa,SAACoI,GAC5BzB,GAAiB,GACjBzC,EAAI4E,QAAQV,GAASjD,MAAK,SAAC4D,GACzBrB,GAAS,CAACqB,GAAF,mBAAmB9I,SAC1BkF,MAAK,WACN6C,QACCL,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,MAAMG,SAAQ,WACxCpB,GAAiB,OAgDLxF,cAAeA,IAGjB,cAACV,EAAD,CACEf,KAAK,iBACLgB,MAAM,2DACNC,WAAW,eACXG,QAASkH,KAGX,cAACnF,EAAD,CACEpE,KAAM+H,EACN1F,QAASkH,QAIb,eAAC,IAAD,CAAO/J,KAAK,4BAAZ,UACE,cAACoF,EAAD,CACEC,WAzMG,SAACS,GAClB,OD9CoB,SAAC,GAAyB,IAAvBpG,EAAsB,EAAtBA,MAAOqF,EAAe,EAAfA,SAChC,OAAOgC,MAAM,GAAD,OAAIY,EAAJ,WAAuB,CAC/BX,UACAI,OAAQ,OACRC,KAAMC,KAAKC,UAAU,CACnB7H,QACAqF,eAGHmC,MAAK,SAAAT,GAAG,OAAIU,EAAcV,MCqCpBsE,CACKjF,GACToB,MAAK,WACJ2B,GAAQM,KAAK,6BACbb,EAAe,CACb1F,QAAQ,EACRmD,KAAM,QACNC,KAAM,6KAGT0D,OAAM,WACLpB,EAAe,CACb1F,QAAQ,EACRmD,KAAM,QACNC,KAAM,8MA4LA,cAACH,EAAD,CACEC,KAAMuC,EACNxF,QAASkH,QAIb,eAAC,IAAD,CAAO/J,KAAK,4BAAZ,UACE,cAAC6E,EAAD,CACEC,QA/LA,SAAC,GAAyB,IAAvBpF,EAAsB,EAAtBA,MAAOqF,EAAe,EAAfA,SACxB,ODtDqB,SAAC,GAAyB,IAAvBrF,EAAsB,EAAtBA,MAAOqF,EAAe,EAAfA,SACjC,OAAOgC,MAAM,GAAD,OAAIY,EAAJ,WAAuB,CAC/BX,UACAI,OAAQ,OACRC,KAAMC,KAAKC,UAAU,CACnB7H,QACAqF,eAGHmC,MAAK,SAAAT,GAAG,OAAIU,EAAcV,MC6CpBsE,CACM,CAAErL,QAAOqF,aACnBmC,MAAK,SAACT,GACLkC,IAAc,GACdM,aAAa+B,QAAQ,MAAOvE,EAAIP,OAChC0C,GAASlJ,GACTmJ,GAAQM,KAAK,yBAEdO,OAAM,WACLpB,EAAe,CACb1F,QAAQ,EACRmD,KAAM,QACNC,KAAM,8MAoLA,cAACH,EAAD,CACEhD,QAASkH,GACTjE,KAAMuC,UAMZ,cAAChG,EAAD,cC1QG4I,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBjE,MAAK,YAAkD,IAA/CkE,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCAdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,UACE,cAAC,EAAD,QAGJC,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.cebcef19.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header-logo.c2821b38.svg\";","import { Switch, Route, Link } from 'react-router-dom';\n\nimport headerLogoPath from '../images/header-logo.svg';\n\nexport function Header({email, onLogout}) {\n  return (\n    <header className=\"page__section header\">\n      <img className=\"header__logo\" src={headerLogoPath} alt=\"Логотип Mesto Russia\" />\n      <Switch>\n        <Route path=\"/react-mesto-auth/\" exact>\n          <div className=\"header__info\">\n            <p className=\"header__mail\">{email}</p>\n            <button className=\"header__logout\" aria-label=\"Выйти\" onClick={onLogout}>Выйти</button>\n          </div>\n        </Route>\n        <Route path=\"/react-mesto-auth/sign-up\">\n          <div className=\"header__info\">\n            <Link className=\"header__navigation-link\" to=\"sign-in\">\n              Войти\n            </Link>\n          </div>\n        </Route>\n        <Route path=\"/react-mesto-auth/sign-in\">\n          <div className=\"header__info\">\n            <Link className=\"header__navigation-link\" to=\"sign-up\">\n              Регистрация\n            </Link>\n          </div>\n        </Route>\n      </Switch>\n    </header>\n  )\n}\n","import {\r\n  createContext\r\n} from 'react';\r\nexport const CurrentUserContext = createContext();\r\n","import React, { useContext } from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nexport function Card({ card, onCardClick, onCardLike, onCardDelete }) {\r\n\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  // Определяем, являемся ли мы владельцем текущей карточки\r\n  const isOwn = card.owner._id === currentUser._id;\r\n\r\n  // Создаём переменную, которую после зададим в `className` для кнопки удаления\r\n  const cardDeleteButtonClassName = (\r\n    `place-card__delete-button ${isOwn ? 'place-card__delete-button_visible.css' : 'place-card__delete-button_hidden'}`\r\n  );\r\n\r\n  // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\r\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n  const cardLikeButtonClassName = `place-card__like-button ${isLiked && 'place-card__like-button_active'}`;\r\n\r\n  const handelClick = () => {\r\n    onCardClick(card);\r\n  }\r\n\r\n  const handleLikeClick = () => {\r\n    onCardLike(card);\r\n  }\r\n\r\n  const handleDeleteClick = () => {\r\n    onCardDelete(card);\r\n  }\r\n\r\n  return (\r\n    <li className=\"place-card\">\r\n      <button\r\n        type=\"button\"\r\n        aria-label=\"Удалить карточку\"\r\n        className={cardDeleteButtonClassName}\r\n        onClick={handleDeleteClick}\r\n      />\r\n      <img className=\"place-card__photo\" src={card.link}\r\n        alt={card.name} onClick={handelClick} />\r\n      <div className=\"place-card__photo-description\">\r\n        <h2 className=\"place-card__photo-name\">{card.name}</h2>\r\n        <div className=\"place-card__like-section\">\r\n          <button\r\n            type=\"button\"\r\n            aria-label=\"Поставить лайк\"\r\n            className={cardLikeButtonClassName}\r\n            onClick={handleLikeClick}\r\n          />\r\n          <span className=\"place-card__like-count\">{card.likes.length}</span>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  )\r\n}\r\n","export function Loader() {\r\n  return(\r\n    <div className=\"loader\">\r\n      <div className=\"loader__circle\">\r\n        </div>\r\n    </div>\r\n  )\r\n}\r\n","import { useContext } from 'react';\r\nimport { Card } from './Card';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport { Loader} from './Loader';\r\n\r\nexport function Main({\r\n  onEditAvatar,\r\n  onEditProfile,\r\n  onAddPlace,\r\n  cards,\r\n  onCardClick,\r\n  onCardLike,\r\n  onCardDelete,\r\n  isCardsLoading\r\n}) {\r\n\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile page__section\">\r\n        <div className=\"profile__information\">\r\n          <div className=\"profile__avatar\">\r\n            <img className=\"profile__avatar-picture\" src={currentUser.avatar}\r\n              alt={currentUser.name} />\r\n            <button\r\n              type=\"button\"\r\n              aria-label=\"Изменить изображение профиля\"\r\n              className=\"profile__avatar-edit\"\r\n              onClick={onEditAvatar}\r\n            />\r\n          </div>\r\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n          <p className=\"profile__description\">{currentUser.about}</p>\r\n          <button\r\n            type=\"button\"\r\n            aria-label=\"Редактировать информацию профиля\"\r\n            className=\"profile__edit-button\"\r\n            onClick={onEditProfile}\r\n          />\r\n          <button\r\n            type=\"button\"\r\n            aria-label=\"Добавить новую карточку\"\r\n            className=\"profile__add-button\"\r\n            onClick={onAddPlace}\r\n          />\r\n        </div>\r\n      </section>\r\n      <section className=\"galery\">\r\n\r\n        {isCardsLoading && <Loader />}\r\n\r\n        <ul className=\"galery__places\">\r\n          {cards.map((card) => (\r\n            <Card\r\n              key={card._id}\r\n              card={card}\r\n              onCardClick={onCardClick}\r\n              onCardLike={onCardLike}\r\n              onCardDelete={onCardDelete}\r\n            />\r\n          ))}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n","export function Footer() {\r\n  return (\r\n    <footer className=\"footer page__section\">\r\n      <p className=\"footer__copyright \">&copy; {new Date().getFullYear()} Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nexport function PopupWithForm({ name, title, buttonText, children, isOpen, onClose, onSubmit }) {\r\n\r\n  //TODO: Доделать закрытие по Esc и оверлею\r\n\r\n  return (\r\n    <section className={`popup popup_type_${name} ${isOpen && \"popup_opened\"}`}>\r\n      <div className=\"popup__container popup__container_profile\">\r\n        <form name={name} noValidate onSubmit={onSubmit}>\r\n          <h3 className=\"popup__title\">{title}</h3>\r\n          {children}\r\n          <button type=\"submit\" className=\"popup__save-button popup__save-button_profile\">{buttonText}</button>\r\n        </form>\r\n        <button type=\"button\" aria-label=\"Закрыть окно\" className=\"popup__close-button\" onClick={onClose} />\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n","import { useState, useEffect, useContext } from 'react';\r\nimport { PopupWithForm } from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nexport function EditProfilePopup({ isOpen, onClose, onUpdateUser, isDataSending }) {\r\n\r\n  const [name, setName] = useState('');\r\n  const [description, setDescription] = useState('');\r\n\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser, isOpen])\r\n\r\n  function handleNameChange(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleDescriptionChange(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    // Передаём значения управляемых компонентов во внешний обработчик\r\n    onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"profile-edit\"\r\n      title=\"Редактировать профиль\"\r\n      buttonText={isDataSending ? \"Сохранение...\" : \"Сохранить\"}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <div className=\"popup__inputs\">\r\n\r\n        <input\r\n          type=\"text\"\r\n          name=\"name-of-user\"\r\n          className=\"popup__input popup__input_type_name\"\r\n          autoComplete=\"off\"\r\n          required\r\n          minLength=\"2\"\r\n          maxLength=\"40\"\r\n          value={name === undefined ? \"\" : name}\r\n          onChange={handleNameChange}\r\n        />\r\n\r\n        <span className=\"popup__error-message\" id=\"name-of-user-error\" />\r\n\r\n        <input\r\n          type=\"text\"\r\n          name=\"description\"\r\n          className=\"popup__input popup__input_type_description\"\r\n          autoComplete=\"off\"\r\n          required\r\n          minLength=\"2\"\r\n          maxLength=\"200\"\r\n          value={description === undefined ? \"\" : description}\r\n          onChange={handleDescriptionChange}\r\n        />\r\n\r\n        <span className=\"popup__error-message\" id=\"description-error\"></span>\r\n      </div>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n","import { PopupWithForm } from './PopupWithForm';\r\nimport { useRef } from 'react';\r\n// import { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nexport function EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, isDataSending }) {\r\n\r\n  const avatarRef = useRef();\r\n\r\n  // const currentUser = useContext(CurrentUserContext);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    // Передаём значениe во внешний обработчик\r\n    onUpdateAvatar(avatarRef.current.value);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"update-avatar\"\r\n      title=\"Обновить аватар\"\r\n      buttonText={isDataSending ? \"Сохранение...\" : \"Сохранить\"}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <div className=\"popup__inputs\">\r\n        <input\r\n          type=\"url\"\r\n          name=\"avatar-url\"\r\n          className=\"popup__input popup__input_type_avatar-url\"\r\n          autoComplete=\"off\"\r\n          placeholder=\"url\"\r\n          required minLength=\"2\"\r\n          maxLength=\"\"\r\n          ref={avatarRef}\r\n        />\r\n        <span className=\"popup__error-message\" id=\"avatar-url-error\" />\r\n      </div>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n","import { useState, useEffect, useContext } from 'react';\r\nimport { PopupWithForm } from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nexport function AddPlacePopup({ isOpen, onClose, onAddPlace, isDataSending }) {\r\n\r\n  const [name, setName] = useState('');\r\n  const [link, setLink] = useState('');\r\n\r\n  const handleNameChange = (e) => {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  const handleLinkChange = (e) => {\r\n    setLink(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onAddPlace({ name, link });\r\n  }\r\n\r\n  useEffect(() => {\r\n    setName(\"\");\r\n    setLink(\"\");\r\n  }, [isOpen]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"add-card\"\r\n      title=\"Новое место\"\r\n      buttonText={isDataSending ? \"Создание...\" : \"Создать\"}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <div className=\"popup__inputs\">\r\n        <input\r\n          type=\"text\"\r\n          name=\"name-of-place\"\r\n          className=\"popup__input popup__input_type_place-name\"\r\n          autoComplete=\"off\"\r\n          placeholder=\"Название\"\r\n          required minLength=\"2\"\r\n          maxLength=\"30\"\r\n          value={name || \"\"}\r\n          onChange={handleNameChange}\r\n        />\r\n        <span className=\"popup__error-message\" id=\"name-of-place-error\" />\r\n        <input\r\n          type=\"url\"\r\n          name=\"image-url\"\r\n          className=\"popup__input popup__input_type_image-link\"\r\n          autoComplete=\"off\"\r\n          placeholder=\"Ссылка на картинку\"\r\n          required\r\n          value={link || \"\"}\r\n          onChange={handleLinkChange}\r\n        />\r\n        <span className=\"popup__error-message\" id=\"image-url-error\" />\r\n      </div>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n","export function ImagePopup({ card, onClose }) {\r\n\r\n  return (\r\n    <section className={`popup ${card && \"popup_opened\"}`} id=\"fullSizeImage\">\r\n      <div className=\"popup__image-container\">\r\n        <figure className=\"popup__image-group\">\r\n          <img className=\"popup__image\" src={card != null ? card.link : undefined} alt={card?.name} />\r\n          <figcaption className=\"popup__image-title\">{card?.name}</figcaption>\r\n        </figure>\r\n        <button type=\"button\" aria-label=\"Закрыть окно\" className=\"popup__close-button\" onClick={onClose}></button>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n","import { useState } from 'react';\r\n\r\nexport function Login({ onLogin }) {\r\n\r\n  const [loginData, setloginData] = useState({\r\n    email: '',\r\n    password: ''\r\n  });\r\n\r\n  const handleInputChange = (evt) => {\r\n    const { name, value } = evt.target;\r\n    setloginData({\r\n      ...loginData,\r\n      [name]: value\r\n    });\r\n  }\r\n\r\n  const handleSubmit = (evt) => {\r\n    evt.preventDefault();\r\n    if (!loginData.email || !loginData.password) {\r\n      return;\r\n    }\r\n    onLogin(loginData);\r\n  }\r\n\r\n  return (\r\n    <div className=\"page__section\">\r\n      <form\r\n        className=\"user-auth-form\"\r\n        onSubmit={handleSubmit}\r\n        >\r\n        <h2 className=\"user-auth-form__title\">Вход</h2>\r\n        <input\r\n          className=\"user-auth-form__input\"\r\n          placeholder=\"Email\"\r\n          type=\"text\"\r\n          name=\"email\"\r\n          id=\"\"\r\n          value={loginData.email}\r\n          onChange={handleInputChange}\r\n        />\r\n        <input\r\n          className=\"user-auth-form__input\"\r\n          placeholder=\"Пароль\"\r\n          type=\"password\"\r\n          name=\"password\"\r\n          id=\"\"\r\n          value={loginData.password}\r\n          onChange={handleInputChange}\r\n        />\r\n\r\n        <button className=\"user-auth-form__button\">Войти</button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import { useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nexport function Register({ onRegister }) {\n\n  const [registerData, setRegisterData] = useState({\n    email: '',\n    password: ''\n  });\n\n  const handleInputChange = (evt) => {\n    const { name, value } = evt.target;\n    setRegisterData({\n      ...registerData,\n      [name]: value\n    });\n  }\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    onRegister(registerData);\n  }\n\n  return (\n    <div className=\"page__section\">\n      <form\n      className=\"user-auth-form\"\n      onSubmit={handleSubmit}>\n\n        <h2 className=\"user-auth-form__title\">Регистрация</h2>\n\n        <input\n          className=\"user-auth-form__input\"\n          placeholder=\"Email\"\n          type=\"text\"\n          name=\"email\"\n          id=\"\"\n          required\n          value={registerData.email}\n          onChange={handleInputChange}\n        />\n        <input\n          className=\"user-auth-form__input\"\n          placeholder=\"Пароль\"\n          type=\"password\"\n          name=\"password\"\n          id=\"\"\n          required\n          value={registerData.password}\n          onChange={handleInputChange}\n        />\n\n        <button className=\"user-auth-form__button\">Зарегистрироваться</button>\n        <p className=\"user-auth-form__bottom-text\">\n          Уже зарегистрированы? <Link className=\"user-auth-form__link\" to=\"/react-mesto-auth/sign-in\">Войти</Link>\n        </p>\n\n      </form>\n    </div>\n  );\n}\n","// import React, { Children } from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\n// этот компонент принимает другой компонент в качестве пропса\r\n// он также может взять неограниченное число пропсов и передать их новому компоненту\r\n\r\nexport const ProtectedRoute = ({path, isLoggedIn, children}) => {\r\n  return (\r\n    <Route path={path} exact>\r\n      {\r\n        isLoggedIn ? children : <Redirect to=\"./sign-in\" />\r\n      }\r\n    </Route>\r\n  );\r\n};\r\n","import crossIcon from '../images/CrossIcon.svg';\r\nimport checkIcon from '../images/CheckIcon.svg';\r\n\r\nconst statusIcons = {\r\n  cross: crossIcon,\r\n  check: checkIcon\r\n};\r\n\r\nexport function InfoTooltip({ onClose, data }) {\r\n  return (\r\n    <section className={`popup popup_type_info-tool-tip ${data.isOpen && \"popup_opened\"}`}>\r\n      <div className=\"popup__container\">\r\n        <div className=\"popup__tool-tip-wrapper\">\r\n          <img className=\"popup__tool-tip-icon\" src={statusIcons[data.icon]} alt={`${data.icon}`} />\r\n          <p className=\"popup__info-text\">{data.text}</p>\r\n          <button type=\"button\" aria-label=\"Закрыть окно\" className=\"popup__close-button\" onClick={onClose} />\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/CrossIcon.d0f413bf.svg\";","export default __webpack_public_path__ + \"static/media/CheckIcon.a9eb6caf.svg\";","export default class Api {\r\n  constructor(token, url, cohortId) {\r\n    this._token = token;\r\n    this._url = url;\r\n    this._cohortId = cohortId;\r\n  }\r\n\r\n  //проверяем ответ сервера\r\n   checkResponse(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    // если ошибка, отклоняем промис\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n\r\n  //Получаем карточки с сервера\r\n  getCards() {\r\n    return fetch(`${this._url}${this._cohortId}/cards`, {\r\n        headers: {\r\n          authorization: this._token\r\n        }\r\n      })\r\n      .then(this.checkResponse)\r\n  }\r\n\r\n  //Добавляем карточку на сервер\r\n  addCard({\r\n    name,\r\n    link\r\n  }) {\r\n    return fetch(`${this._url}${this._cohortId}/cards`, {\r\n        method: 'POST',\r\n        headers: {\r\n          authorization: this._token,\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n          name,\r\n          link\r\n        })\r\n      })\r\n      .then(this.checkResponse)\r\n  }\r\n\r\n  //Метод удаления карточки\r\n  deleteCard(cardId) {\r\n    return fetch(`${this._url}${this._cohortId}/cards/${cardId}`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n          authorization: this._token\r\n        }\r\n      })\r\n      .then(this.checkResponse);\r\n  }\r\n\r\n  //Метод изменения статуса лайка\r\n  changeLikeCardStatus(cardId, isLike) {\r\n    return fetch(`${this._url}/${this._cohortId}/cards/likes/${cardId}`, {\r\n        method: isLike ? 'PUT' : 'DELETE',\r\n        headers: {\r\n          authorization: this._token,\r\n          'Content-Type': 'application/json',\r\n        },\r\n      })\r\n      .then(this.checkResponse);\r\n  }\r\n\r\n  //Получаем данные пользователя с сервера\r\n  getUserInfo() {\r\n    return fetch(`${this._url}${this._cohortId}/users/me`, {\r\n        headers: {\r\n          authorization: this._token\r\n        }\r\n      })\r\n      .then(this.checkResponse);\r\n  }\r\n\r\n  //Отправляем данные пользователя на сервер\r\n  setUserInfo(userData) {\r\n    return fetch(`${this._url}${this._cohortId}/users/me`, {\r\n        method: 'PATCH',\r\n        headers: {\r\n          authorization: this._token,\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(userData)\r\n      })\r\n      .then(this.checkResponse)\r\n  }\r\n\r\n  //Обновляем аватар пользователя\r\n  updataAvatar(avatar) {\r\n    return fetch(`${this._url}${this._cohortId}/users/me/avatar`, {\r\n        method: 'PATCH',\r\n        headers: {\r\n          authorization: this._token,\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(avatar)\r\n      })\r\n      .then(this.checkResponse)\r\n  }\r\n}\r\n\r\nexport const api = new Api('233fa192-0365-43b1-9635-9ca57a07d48d', 'https://mesto.nomoreparties.co/v1/', 'cohort-20');\r\n","const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\n//Проверка ответа сервера\r\nconst checkResponse = (res) => {\r\n  return res.ok ? res.json() : Promise.reject(new Error(`Ошибка ${res.status}: ${res.statusText}`));\r\n};\r\n\r\nconst headers = {\r\n  'Accept': 'application/json',\r\n  'Content-Type': 'application/json'\r\n};\r\n\r\nexport const register = ({ email, password }) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n      headers,\r\n      method: 'POST',\r\n      body: JSON.stringify({\r\n        email,\r\n        password\r\n      })\r\n    })\r\n    .then(res => checkResponse(res));\r\n};\r\n\r\nexport const authorize = ({ email, password }) => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n      headers,\r\n      method: 'POST',\r\n      body: JSON.stringify({\r\n        email,\r\n        password\r\n      })\r\n    })\r\n    .then(res => checkResponse(res));\r\n};\r\n\r\n//Запрос для проверки валидности токена и получения email для вставки в шапку сайта\r\nexport const checkToken = (token) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n      method: 'GET',\r\n      headers: {\r\n        ...headers,\r\n        'Authorization': `Bearer ${token}`\r\n      }\r\n    })\r\n    .then(res => checkResponse(res));\r\n};\r\n","import React, { useEffect, useState } from 'react';\nimport { Switch, Route, useHistory } from 'react-router-dom';\n\nimport { Header } from './Header';\nimport { Main } from './Main';\nimport { Footer } from './Footer';\nimport { PopupWithForm } from './PopupWithForm';\nimport { EditProfilePopup } from './EditProfilePopup';\nimport { EditAvatarPopup } from './EditAvatarPopup';\nimport { AddPlacePopup } from './AddPlacePopup';\nimport { ImagePopup } from './ImagePopup';\nimport { Login } from './Login';\nimport { Register } from './Register';\nimport { ProtectedRoute } from './ProtectedRoute';\nimport { InfoTooltip } from './InfoTooltip';\n\nimport { api } from '../utils/api';\nimport * as authApi from '../utils/authApi';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction App() {\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [toolTipData, setToolTipData] = useState({\n    isOpen: false,\n    icon: '',\n    text: ''\n  });\n\n  const [selectedCard, setSelectedCard] = useState(null);\n  const [isCardsLoading, setIsCardsLoading] = useState(false);\n  const [isDataSending, setIsDataSending] = useState(false);\n\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [email, setEmail] = useState('');\n  const history = useHistory();\n\n  //Проверяем, есть в локальном хранилище токен\n  const tokenCheck = () => {\n    const jwt = localStorage.getItem('jwt');\n    if (!jwt) {\n      return;\n    }\n    authApi.checkToken(jwt)\n      .then(res => {\n        setEmail(res.data.email);\n        setIsLoggedIn(true);\n        history.push('/react-mesto-auth/');\n      })\n  }\n\n  //Проверка токена при монтировании компонента\n  useEffect(() => {\n    tokenCheck();\n  }, []);\n\n  const onRegister = (data) => {\n    return authApi\n      .register(data)\n      .then(() => {\n        history.push('/react-mesto-auth/sign-in');\n        setToolTipData({\n          isOpen: true,\n          icon: 'check',\n          text: 'Вы успешно зарегистрировались!'\n        });\n      })\n      .catch(() => {\n        setToolTipData({\n          isOpen: true,\n          icon: 'cross',\n          text: 'Что-то пошло не так! Попробуйте ещё раз.'\n        });\n      });\n  };\n\n  const onLogin = ({ email, password }) => {\n    return authApi\n      .authorize({ email, password })\n      .then((res) => {\n        setIsLoggedIn(true);\n        localStorage.setItem('jwt', res.token);\n        setEmail(email);\n        history.push('/react-mesto-auth/');\n      })\n      .catch(() => {\n        setToolTipData({\n          isOpen: true,\n          icon: 'cross',\n          text: 'Что-то пошло не так! Попробуйте ещё раз.'\n        });\n      });\n  };\n\n  const onLogout = () => {\n    localStorage.removeItem('jwt');\n    setCurrentUser({});\n    setCards([]);\n    setIsLoggedIn(false);\n    history.push('/react-mesto-auth/sign-in');\n  }\n\n  //Стейт данных текущего пользователя\n  const [currentUser, setCurrentUser] = useState({});\n\n  useEffect(() => {\n    if (isLoggedIn) {\n      setIsCardsLoading(true);\n      Promise.all([api.getUserInfo(), api.getCards()])\n        .then(([userData, cardData]) => {\n          setCurrentUser(userData);\n          setCards(cardData);\n        }).catch(err => console.log(err)).finally(() => {\n          setIsCardsLoading(false);\n        });\n    }\n  }, [isLoggedIn]);\n\n  const handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(true);\n  }\n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(true);\n  }\n  const handleAddPlaceClick = () => {\n    setIsAddPlacePopupOpen(true);\n  }\n  const handleCardClick = (card) => {\n    setSelectedCard(card);\n  }\n\n  const closeAllPopups = () => {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setToolTipData({\n      isOpen: false,\n      icon: '',\n      text: ''\n    });\n    setSelectedCard(null);\n  }\n\n  const handleUpdateUser = (userInfo) => {\n    setIsDataSending(true);\n    api.setUserInfo(userInfo).then((newUserInfo) => {\n      setCurrentUser(newUserInfo);\n      closeAllPopups();\n    }).catch(err => console.log(err)).finally(() => {\n      setIsDataSending(false);\n    });\n  }\n\n  const handleUpdateAvatar = (newAvatarUrl) => {\n    setIsDataSending(true);\n    api.updataAvatar({ avatar: newAvatarUrl }).then((data) => {\n      setCurrentUser(data);\n      closeAllPopups();\n    }).catch(err => console.log(err)).finally(() => {\n      setIsDataSending(false);\n    });\n  }\n\n  const [cards, setCards] = useState([]);\n\n  function handleCardLike(card) {\n    // Снова проверяем, есть ли уже лайк на этой карточке\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    // Отправляем запрос в API и получаем обновлённые данные карточки\n    api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\n      setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n    }).catch(err => console.log(err));\n  }\n\n  function handleCardDelete(card) {\n    api.deleteCard(card._id).then(\n      () => {\n        setCards((state) => {\n          return state.filter((c) => c._id !== card._id);\n        });\n      }\n    ).catch(err => console.log(err));\n  }\n\n  const handleAddPlaceSubmit = (newCard) => {\n    setIsDataSending(true);\n    api.addCard(newCard).then((addedNewCard) => {\n      setCards([addedNewCard, ...cards])\n    }).then(() => {\n      closeAllPopups();\n    }).catch(err => console.log(err)).finally(() => {\n      setIsDataSending(false);\n    });\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"App\">\n        <div className=\"page\">\n          <div className=\"page__content\">\n            <Header\n              email={email}\n              onLogout={onLogout}\n            />\n\n            <Switch>\n              <ProtectedRoute\n                isLoggedIn={isLoggedIn}\n                path=\"/react-mesto-auth/\" exact\n              >\n                <Main\n                  onEditAvatar={handleEditAvatarClick}\n                  onEditProfile={handleEditProfileClick}\n                  onAddPlace={handleAddPlaceClick}\n                  onCardClick={handleCardClick}\n                  cards={cards}\n                  onCardLike={handleCardLike}\n                  onCardDelete={handleCardDelete}\n                  isCardsLoading={isCardsLoading}\n                />\n\n                <EditAvatarPopup\n                  isOpen={isEditAvatarPopupOpen}\n                  onClose={closeAllPopups}\n                  onUpdateAvatar={handleUpdateAvatar}\n                  isDataSending={isDataSending}\n                />\n\n                <EditProfilePopup\n                  isOpen={isEditProfilePopupOpen}\n                  onClose={closeAllPopups}\n                  onUpdateUser={handleUpdateUser}\n                  isDataSending={isDataSending}\n                />\n\n                <AddPlacePopup\n                  isOpen={isAddPlacePopupOpen}\n                  onClose={closeAllPopups}\n                  onAddPlace={handleAddPlaceSubmit}\n                  isDataSending={isDataSending}\n                />\n\n                <PopupWithForm\n                  name=\"delete-confirm\"\n                  title=\"Вы уверены?\"\n                  buttonText=\"Да\"\n                  onClose={closeAllPopups}\n                />\n\n                <ImagePopup\n                  card={selectedCard}\n                  onClose={closeAllPopups}\n                />\n              </ProtectedRoute>\n\n              <Route path=\"/react-mesto-auth/sign-up\">\n                <Register\n                  onRegister={onRegister}\n                />\n                <InfoTooltip\n                  data={toolTipData}\n                  onClose={closeAllPopups}\n                />\n              </Route>\n\n              <Route path=\"/react-mesto-auth/sign-in\">\n                <Login\n                  onLogin={onLogin}\n                />\n                <InfoTooltip\n                  onClose={closeAllPopups}\n                  data={toolTipData}\n                />\n              </Route>\n\n            </Switch>\n\n            <Footer />\n          </div>\n        </div>\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}